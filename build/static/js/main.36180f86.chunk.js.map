{"version":3,"sources":["components/SearchFilter.js","components/Person.js","components/Persons.js","components/AdditionForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["SearchFilter","changeHandler","maintainedState","onChange","value","Person","person","removePerson","name","number","onClick","Persons","persons","map","p","key","AdditionForm","addName","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","type","Notification","message","kind","className","join","baseUrl","axios","get","then","response","data","newObject","post","existingObjectID","delete","id","put","App","useState","setPersons","useEffect","personService","catch","error","console","debug","showError","setNewName","setNewNumber","search","setSearch","notifMessage","setNotifMessage","notifKind","setNotifKind","showSuccess","msg","setTimeout","personsToShow","length","filter","toLowerCase","includes","event","target","preventDefault","matches","window","confirm","newPerson","returnedPerson","createdPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.36180f86.chunk.js","sourcesContent":["import React from 'react'\n\nconst SearchFilter = ({changeHandler, maintainedState}) => {\n  return (\n    <p>\n      <label>Only show names containing <input onChange={changeHandler} value={maintainedState} />\n      </label>\n    </p>\n  )\n}\n\nexport default SearchFilter\n","import React from 'react'\n\nconst Person = ({person, removePerson}) => {\n      return <li>{person.name} {person.number} <button onClick={() => removePerson(person)}>delete</button></li>\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, removePerson}) => {\n      return (<ul>\n      {persons.map(p => <Person removePerson={removePerson} key={p.name} person={p} />)}\n      </ul>)\n}\n\nexport default Persons\n","import React from 'react'\n\nconst AdditionForm = ({addName, handleNameChange, handleNumberChange, newName, newNumber}) =>\n      <form onSubmit={addName}>\n        <label>name: <input onChange={handleNameChange} type=\"text\" value={newName} /> </label>\n        <label>number: <input onChange={handleNumberChange} type=\"tel\" value={newNumber} /> </label>\n          <button type=\"submit\">add</button>\n      </form>\n\nexport default AdditionForm\n\n","import React from 'react'\nconst Notification = ({ message, kind }) => {\n  if (message === null) { return null }\n  return <div className={[\"notif\", kind].join(\" \")}>{message}</div>\n}\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\nconst create = newObject => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\nconst remove = existingObjectID => {\n  return axios.delete([baseUrl, existingObjectID].join(\"/\")).then(response => response.data)\n}\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }\n","import React, { useState, useEffect } from 'react'\nimport SearchFilter from './components/SearchFilter'\nimport Persons from './components/Persons'\nimport AdditionForm from './components/AdditionForm'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => setPersons(persons))\n      .catch((error) => { console.debug(error); showError(`Can't load the phonebook`)})\n  }, [])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [notifMessage, setNotifMessage] = useState(null)\n  const [notifKind, setNotifKind] = useState('error')\n\n  const handleNameChange = (event) => { setNewName(event.target.value) }\n  const handleNumberChange = (event) => { setNewNumber(event.target.value) }\n  const handleSearchChange = (event) => { setSearch(event.target.value) }\n\n  const showSuccess = (msg) => {\n        setNotifKind(\"success\")\n        setNotifMessage(msg)\n        setTimeout(() => {setNotifMessage(null)}, 2000)\n  }\n  const showError = (msg) => {\n        setNotifKind(\"error\")\n        setNotifMessage(msg)\n        setTimeout(() => {setNotifMessage(null)}, 3000)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const matches = persons.filter(p => p.name.toLowerCase() === newName.toLowerCase())\n    if (matches.length === 1) {\n      if (window.confirm(`${newName} is already in the phonebook, replace the old number?`)) {\n        const p = matches[0]\n        const newPerson = {...p, number: newNumber}\n        personService\n          .update(p.id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => p.id === returnedPerson.id ? returnedPerson : p))\n            showSuccess(`changed number of ${returnedPerson.name}`)\n          })\n          .catch((error) => { console.debug(error.response); showError(`Can't update number of ${newPerson.name}: ${error.response.data.error}`) })\n      }\n    }\n    else {\n      personService\n        .create({name: newName, number: newNumber})\n        .then(createdPerson => {\n          setPersons(persons.concat(createdPerson))\n          showSuccess(`successfully added ${createdPerson.name} to the list`)\n          setTimeout(() => {setNotifMessage(null)}, 2000)\n          setNewName('')\n          setNewNumber('')\n          setSearch('')\n        })\n        .catch((error) => { console.debug(error.response); showError(`Can't create ${newName}: ${error.response.data.error}`) })\n    }\n  }\n\n  const removePerson = (person) => {\n    if (window.confirm(`Are you sure you want to remove ${person.name}`)) {\n      personService\n        .remove(person.id)\n        .then(() => { setPersons(persons.filter(p => p.id !== person.id)) })\n      .catch((error) => { console.debug(error.response); showError(`Can't remove ${person.name}: ${error.response.data.error}`)})\n    }\n  }\n\n  const personsToShow = (search.length > 0) ? persons.filter(p => p.name.toLowerCase().includes(search.toLowerCase())) : persons\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notifMessage} kind={notifKind} />\n      <SearchFilter changeHandler={handleSearchChange} maintainedState={search} />\n      <AdditionForm addName={addName} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newName={newName} newNumber={newNumber} />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} removePerson={removePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}